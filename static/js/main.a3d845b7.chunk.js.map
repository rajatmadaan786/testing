{"version":3,"sources":["Components/Home/index.js","App.js","serviceWorker.js","index.js"],"names":["JSC","baseUrl","Home","state","csv_urls","loading","show_chart_menu","open_mobile_navbar","addChart","bind","onChangeHandler","renderChart","elm","JSON","parse","window","localStorage","getItem","filter","item","element","promise","Promise","resolve","reject","timeoutId","setTimeout","setState","swal","title","text","icon","then","res","clearTimeout","err","event","divTop","divLeft","posX","posY","aX","aY","bound","diffX","diffY","onMouseMove","evt","xpos","ypos","clientX","clientY","document","getElementsByClassName","offsetWidth","style","left","top","replace","addEventListener","onmouseup","removeEventListener","stock","chartId","points","csv_url","this","timeoutNetworkRequest","response","data","i","length","arr","push","chart","debug","type","title_label_text","legend_position","toolbar_items","label_style_fontSize","margin","items","events_change","val","series","options","xAxis","scale_type","name","defaultTooltip","combined","label_text","catch","console","log","e","target","id","split","value","chartNum","newThis","Number","setItem","elmnt","createElement","className","availableElements","querySelectorAll","elements_wrapper","innerWidth","appendChild","selectArr","label","selectList","onchange","header_container","classList","add","prepend","addDragAbility","option","result","draggableElementCoordinates","draggableElements","forEach","index","obj","draggableElement","getElementById","jsonData","stringify","last_values","elementId","coordinates","fetchStyle","j","to","onClick","saveData","src","alt","React","PureComponent","App","path","component","Component","Boolean","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a3d845b7.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport swal from 'sweetalert';\r\nimport './index.css';\r\nimport * as JSC from \"jscharting\";\r\nJSC.defaults({ baseUrl: './js/jsc/' });\r\n\r\nclass Home extends React.PureComponent{\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\tthis.state ={\r\n\t\t\tcsv_urls:[\r\n\t\t\t\t\"https://cors-anywhere.herokuapp.com/https://query1.finance.yahoo.com/v7/finance/download/AAPL?period1=1568005508&period2=1599627908&interval=1d&events=history\",\r\n\t\t\t\t\"https://cors-anywhere.herokuapp.com/https://query1.finance.yahoo.com/v7/finance/download/GOOG?period1=1568005508&period2=1599627908&interval=1d&events=history\",\r\n\t\t\t\t\"https://cors-anywhere.herokuapp.com/https://query1.finance.yahoo.com/v7/finance/download/MSFT?period1=1568005508&period2=1599627908&interval=1d&events=history\"\r\n\t\t\t],\r\n\t\t\tloading: false,\r\n\t\t\tshow_chart_menu: false,\r\n\t\t\topen_mobile_navbar: false\r\n\t\t}\r\n\t\tthis.addChart = this.addChart.bind(this);\r\n\t\tthis.onChangeHandler = this.onChangeHandler.bind(this);\r\n\t\tthis.renderChart = this.renderChart.bind(this);\r\n\t}\r\n\r\n\tfetchStyle(elm){\r\n\t\tlet data = JSON.parse(window.localStorage.getItem('draggableElementCoordinates'));\r\n\t\tlet result = data.filter(item => item.element===elm);\r\n\t\treturn result[0];\r\n\t}\r\n\r\n\ttimeoutNetworkRequest(promise) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst timeoutId = setTimeout(() => {\r\n\t\t\t\tthis.setState({loading: false})\r\n\t\t\t\tswal({\r\n\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\ttext: \"Error occured while fetching financial data!\",\r\n\t\t\t\t\ticon: \"warning\",\r\n\t\t\t\t})\r\n\t\t\t}, 20000);\r\n\r\n\t\t\tpromise.then((res) => {\r\n\t\t\t    clearTimeout(timeoutId);\r\n\t\t\t    resolve(res);\r\n\t\t\t  },\r\n\t\t\t  (err) => {\r\n\t\t\t    clearTimeout(timeoutId);\r\n\t\t\t\tthis.setState({loading: false})\r\n\t\t\t\tswal({\r\n\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\ttext: \"Error occured while fetching financial data!\",\r\n\t\t\t\t\ticon: \"warning\",\r\n\t\t\t\t})\r\n\t\t\t  }\r\n\t\t\t);\r\n\t\t})\r\n\t}\r\n\r\n\taddDragAbility(event,elm){\r\n\t\tvar posX = 0,\r\n\t\tposY = 0,\r\n\t\taX = 0,\r\n\t\taY = 0,\r\n\t\tbound = 0,\r\n\t\tdiffX = 0,\r\n\t\tdiffY = 0,\r\n\t\tdivTop = 0,\r\n\t\tdivLeft = 0;\r\n\r\n\t\tfunction moveElement(xpos,ypos){\r\n\t        elm.style.left = xpos + 'px';\r\n\t        elm.style.top = ypos + 'px';\r\n\t\t}\r\n\r\n\t\tevent = event || window.event;\r\n\t    posX = event.clientX; // horizontal mouse position when clicked\r\n\t    posY = event.clientY;     // vertical mouse position when clicked\r\n\r\n\r\n\t    divTop = elm.style.top.replace('px','');   \r\n\t    divLeft = elm.style.left.replace('px','');\r\n\r\n\r\n\t    diffX = posX - divLeft;\r\n\t    diffY = posY - divTop;\r\n\r\n\t    function onMouseMove(evt){\r\n\t\t\tevt = evt || window.event;\r\n\t        posX = evt.clientX;\r\n\t        posY = evt.clientY;\r\n\r\n\t        aX = posX - diffX;\r\n\t        aY = posY - diffY;\r\n\t       \tbound=document.getElementsByClassName(\"draggable-elements\")[0].offsetWidth-elm.offsetWidth;\r\n\t           \r\n\t        if((aX>0)&&(aX<bound)&&(aY>0)&&(aY<bound)){\r\n\t            moveElement(aX,aY);\r\n\t        }\r\n\t    }\r\n\r\n\t    document.addEventListener('mousemove', onMouseMove);\r\n\r\n\t    elm.onmouseup = function(event) {\r\n\t\t\tdocument.removeEventListener('mousemove', onMouseMove);\r\n\t\t\telm.onmouseup = null;\r\n\t\t};\r\n    }\r\n\r\n\trenderChart(stock,chartId,csv_urls){\r\n\t\tlet points = [];\r\n\t\tlet csv_url = (stock==='apple')?csv_urls[0]:(stock==='google')?csv_urls[1]:csv_urls[2];\r\n\r\n\t\tthis.setState({loading: true});\r\n\r\n\t\tthis.timeoutNetworkRequest(JSC.fetch(csv_url))\r\n\t\t.then(response => response.text())\r\n\t\t.then(text => {\r\n\t\t\tthis.setState({loading: false})\r\n\t\t\tlet data = JSC.csv2Json(text);\r\n\t\t  \tfor(var i=0;i<data.length;i++){\r\n\t\t  \t\tlet arr = [];\r\n\t\t  \t\tarr.push(JSC.formatDate(data[i]['Date'], \"d\"));\r\n\t\t  \t\tarr.push(data[i][\"Adj Close\"]);\r\n\t\t  \t\tpoints.push(arr);\r\n\t\t  \t}\r\n\r\n\t\t  \tvar chart = JSC.chart(chartId, { \r\n\t\t\t\tdebug: true, \r\n\t\t\t\ttype: 'line', \r\n\t\t\t\ttitle_label_text: '', \r\n\t\t\t\tlegend_position: 'inside bottom right', \r\n\t\t\t\ttoolbar_items: { \r\n\t\t\t\t\t'Line Type': { \r\n\t\t\t\t\t\ttype: 'select', \r\n\t\t\t\t\t\tlabel_style_fontSize: 13, \r\n\t\t\t\t\t\tmargin: 5, \r\n\t\t\t\t\t\titems: 'Line,Step,Spline', \r\n\t\t\t\t\t\tevents_change: function(val) { \r\n\t\t\t\t\t\t\tchart.series().options({ type: val }); \r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t} \r\n\t\t\t\t}, \r\n\t\t\t\txAxis: { scale_type: 'time' }, \r\n\t\t\t\tseries: [ \r\n\t\t\t\t\t{ \r\n\t\t\t\t\t  name: '', \r\n\t\t\t\t\t  points: points\r\n\t\t\t\t\t} \r\n\t\t\t\t],\r\n\t\t\t\tdefaultTooltip:{\r\n\t\t\t\t\tcombined:true,\r\n\t\t\t\t\tlabel_text:'<b>%xValue</b><br>%points'\r\n\t\t\t\t} \r\n\t\t\t});\r\n\r\n\t\t})\r\n\t\t.catch(err=>{\r\n\t\t\tconsole.log(err);\r\n\t\t\tthis.setState({loading: false})\r\n\t\t\tswal({\r\n\t\t\t\ttitle: \"Error\",\r\n\t\t\t\ttext: \"Error occured while fetching financial data!\",\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t})\r\n\t\t})\t\r\n\t}\r\n\r\n\tonChangeHandler(e){\r\n\t\tlet id = e.target.id.split('_')[1];\r\n\t\tlet chartId = 'chart_'+id;\r\n\t\tlet value = e.target.value;\r\n\t\tlet csv_urls = this.state.csv_urls;\r\n\r\n\t\tif(value==='apple'){\r\n\t\t\tthis.renderChart('apple',chartId,csv_urls);\r\n\t\t}else if(value==='google'){\r\n\t\t\tthis.renderChart('google',chartId,csv_urls);\r\n\t\t}else{\r\n\t\t\tthis.renderChart('microsoft',chartId,csv_urls)\r\n\t\t}\r\n\t}\r\n\r\n\taddChart(){\r\n\t\tthis.setState({show_chart_menu: !this.state.show_chart_menu});\r\n\r\n\t\tlet chartNum = window.localStorage.getItem('chart_num');\r\n\t\tlet newThis = this;\r\n\r\n\t\tif(!chartNum || chartNum===null){\r\n\t\t\tchartNum = 1;\r\n\t\t}else{\r\n\t\t\tchartNum = Number(chartNum)+1;\r\n\t\t}\r\n\t\twindow.localStorage.setItem('chart_num',chartNum);\r\n\r\n\t\tlet elmnt = document.createElement('div');\r\n\t\telmnt.className = 'chart';\r\n\t\telmnt.id = 'chart_'+chartNum;\r\n\r\n\t\tlet availableElements = document.querySelectorAll('.elements-wrapper');\r\n\r\n\t\tlet elements_wrapper = document.createElement('div');\r\n\t\telements_wrapper.className=\"elements-wrapper\";\r\n\t\telements_wrapper.id = 'element_'+chartNum;\r\n\r\n\t\tif(availableElements.length>0 && window.innerWidth>=1024)\r\n\t\t\telements_wrapper.style.left = (340*availableElements.length)+'px';\r\n\r\n\t\telements_wrapper.appendChild(elmnt);\r\n\r\n\t\t//Create array of options to be added\r\n\t\tvar selectArr = [{label: \"Select a stock\", value:\"\"},{label: \"Apple\", value: 'apple'},{label: \"Google\", value: 'google'},{label: \"Microsoft\", value:'microsoft'}];\r\n\r\n\t\t//Create and append select list\r\n\t\tvar selectList = document.createElement(\"select\");\r\n\t\tselectList.id = \"select_\"+chartNum;\r\n\t\tselectList.onchange = this.onChangeHandler\r\n\r\n\r\n\t\tlet header_container = document.createElement('div');\r\n\t\theader_container.appendChild(selectList);\r\n\r\n\t\theader_container.classList.add('chart-element-header');\r\n\t\t\r\n\t\telements_wrapper.prepend(header_container);\r\n\r\n\t\tif(window.innerWidth>=1024){\r\n\t\t\theader_container.addEventListener('mousedown',function(event){\r\n\t\t\t\tnewThis.addDragAbility(event,elements_wrapper)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tdocument.getElementsByClassName('chart-container')[0].appendChild(elements_wrapper);\r\n\r\n\t\t//Create and append the options\r\n\t\tfor (var i = 0; i < selectArr.length; i++) {\r\n\t\t    var option = document.createElement(\"option\");\r\n\t\t    option.value = selectArr[i].value;\r\n\t\t    option.text = selectArr[i].label;\r\n\t\t    selectList.appendChild(option);\r\n\t\t}\r\n\t}\t\r\n\r\n\tsaveData(){\r\n\t\tlet data = document.querySelectorAll('select');\r\n\t\tlet result = [];\r\n\t\tlet draggableElementCoordinates = {};\r\n\t\tlet draggableElements = [];\r\n\r\n\t\tdata.forEach(function(item,index){\r\n\t\t\tlet obj = {};\r\n\t\t\tlet id = item.id.split('_')[1];\r\n\t\t\tlet value = item.value;\r\n\t\t\tobj['id'] = id;\r\n\t\t\tobj['value'] = value;\r\n\t\t\tresult.push(obj);\r\n\r\n\t\t\tlet draggableElement = document.getElementById('element_'+id);\r\n\r\n\t\t\tdraggableElementCoordinates = {\r\n\t\t\t\ttop: draggableElement.style.top,\r\n\t\t\t\tleft: draggableElement.style.left,\r\n\t\t\t\telement: 'element_'+id\r\n\t\t\t};\r\n\t\t\tdraggableElements.push(draggableElementCoordinates);\r\n\t\t})\r\n\r\n\t\tlet jsonData = JSON.stringify(result);\r\n\t\twindow.localStorage.setItem('last_values',jsonData);\r\n\r\n\t\twindow.localStorage.setItem('draggableElementCoordinates',JSON.stringify(draggableElements));\r\n\r\n\t\tswal({\r\n\t\t\ttitle: \"Success\",\r\n\t\t\ttext: \"Data saved successfully!\",\r\n\t\t\ticon: \"success\",\r\n\t\t})\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tlet last_values = JSON.parse(window.localStorage.getItem('last_values'));\r\n\t\tlet csv_urls = this.state.csv_urls;\r\n\t\tlet newThis = this;\r\n\r\n\t\tif(last_values && last_values.length>0){\r\n\t\t\tfor(var i=0; i<last_values.length; i++){\r\n\t\t\t\tlet elmnt = document.createElement('div');\r\n\t\t\t\telmnt.id = 'chart_'+last_values[i].id;\r\n\t\t\t\telmnt.className = 'chart';\r\n\r\n\t\t\t\tlet elements_wrapper = document.createElement('div');\r\n\t\t\t\telements_wrapper.className=\"elements-wrapper\";\r\n\t\t\t\tlet elementId = 'element_'+last_values[i].id;\r\n\t\t\t\telements_wrapper.id = elementId;\r\n\t\t\t\t\r\n\t\t\t\tlet coordinates = '';\r\n\t\t\t\tlet draggableElementCoordinates = window.localStorage.getItem('draggableElementCoordinates');\r\n\r\n\t\t\t\tif(draggableElementCoordinates){\r\n\t\t\t\t\tcoordinates = this.fetchStyle(elementId);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(coordinates){\r\n\t\t\t\t\telements_wrapper.style.top = coordinates.top;\r\n\t\t\t\t\telements_wrapper.style.left = coordinates.left;\r\n\t\t\t\t}\r\n\t\t\t\telements_wrapper.appendChild(elmnt);\r\n\r\n\t\t\t\t//Create array of options to be added\r\n\t\t\t\tvar selectArr = [{label: \"Select a stock\", value:\"\"},{label: \"Apple\", value: 'apple'},{label: \"Google\", value: 'google'},{label: \"Microsoft\", value:'microsoft'}];\r\n\r\n\t\t\t\t//Create and append select list\r\n\t\t\t\tvar selectList = document.createElement(\"select\");\r\n\t\t\t\tselectList.id = \"select_\"+last_values[i].id;\r\n\t\t\t\t\r\n\t\t\t\t//Create and append the options\r\n\t\t\t\tfor (var j = 0; j < selectArr.length; j++) {\r\n\t\t\t\t    var option = document.createElement(\"option\");\r\n\t\t\t\t    option.value = selectArr[j].value;\r\n\t\t\t\t    option.text = selectArr[j].label;\r\n\t\t\t\t    selectList.appendChild(option);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tselectList.value = last_values[i].value;\r\n\t\t\t\tselectList.onchange = this.onChangeHandler\r\n\r\n\t\t\t\tlet header_container = document.createElement('div');\r\n\t\t\t\theader_container.appendChild(selectList)\r\n\r\n\t\t\t\theader_container.classList.add('chart-element-header');\r\n\r\n\t\t\t\telements_wrapper.prepend(header_container);\r\n\r\n\t\t\t\tif(window.innerWidth>=1024){\r\n\t\t\t\t\theader_container.addEventListener('mousedown',function(event){\r\n\t\t\t\t\t\tnewThis.addDragAbility(event,elements_wrapper)\r\n\t\t\t\t\t})\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdocument.getElementsByClassName('chart-container')[0].appendChild(elements_wrapper);\r\n\r\n\t\t\t\tlet points = [];\r\n\t\t\t\tlet csv_url = (last_values[i].value==='apple')?csv_urls[0]:(last_values[i].value==='google')?csv_urls[1]:(last_values[i].value==='microsoft')?csv_urls[2]:'';\r\n\r\n\t\t\t\tif(csv_url){\r\n\t\t\t\t\tthis.setState({loading: true});\r\n\t\t\t\t\tthis.timeoutNetworkRequest(JSC.fetch(csv_url))\r\n  \t\t\t\t\t.then(response => response.text())\r\n\t\t\t\t\t.then(text => {\r\n\t\t\t\t\t\tthis.setState({loading: false})\r\n\t\t\t\t\t\tlet data = JSC.csv2Json(text);\r\n\t\t\t\t\t  \tdelete data['columns'];\r\n\t\t\t\t\t  \tdelete data['types'];\r\n\t\t\t\t\t  \tfor(var i=0;i<data.length;i++){\r\n\t\t\t\t\t  \t\tlet arr = [];\r\n\t\t\t\t\t  \t\tarr.push(JSC.formatDate(data[i]['Date'], \"d\"));\r\n\t\t\t\t\t  \t\tarr.push(data[i][\"Adj Close\"]);\r\n\t\t\t\t\t  \t\tpoints.push(arr);\r\n\t\t\t\t\t  \t}\r\n\r\n\t\t\t\t\t  \tvar chart = JSC.chart(elmnt, { \r\n\t\t\t\t\t\t  debug: true, \r\n\t\t\t\t\t\t  type: 'line', \r\n\t\t\t\t\t\t  title_label_text: '', \r\n\t\t\t\t\t\t  legend_position: 'inside bottom right', \r\n\t\t\t\t\t\t  toolbar_items: { \r\n\t\t\t\t\t\t    'Line Type': { \r\n\t\t\t\t\t\t      type: 'select', \r\n\t\t\t\t\t\t      label_style_fontSize: 13, \r\n\t\t\t\t\t\t      margin: 5, \r\n\t\t\t\t\t\t      items: 'Line,Step,Spline', \r\n\t\t\t\t\t\t      events_change: function(val) { \r\n\t\t\t\t\t\t        chart.series().options({ type: val }); \r\n\t\t\t\t\t\t      } \r\n\t\t\t\t\t\t    } \r\n\t\t\t\t\t\t  }, \r\n\t\t\t\t\t\t  xAxis: { scale_type: 'time' }, \r\n\t\t\t\t\t\t  series: [ \r\n\t\t\t\t\t\t    { \r\n\t\t\t\t\t\t      name: '', \r\n\t\t\t\t\t\t      points: points\r\n\t\t\t\t\t\t    } \r\n\t\t\t\t\t\t  ],\r\n\t\t\t\t\t\t  defaultTooltip:{\r\n\t\t\t\t\t\t    combined:true,\r\n\t\t\t\t\t\t    label_text:'<b>%xValue</b><br>%points'\r\n\t\t\t\t\t\t  } \r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err=>{\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\tthis.setState({loading: false})\r\n\t\t\t\t\t\tswal({\r\n\t\t\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\t\t\ttext: \"Error occured while fetching financial data!\",\r\n\t\t\t\t\t\t\ticon: \"warning\",\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\t\r\n\t\treturn(\r\n\t\t\t<div className=\"wrapper\">\r\n\t\t\t\t{\r\n\t\t\t\t\t(this.state.loading)?\r\n\t\t\t\t\t\t<div className=\"overlay-mask\">\r\n\t\t\t\t\t\t\t<i className=\"fa fa-refresh fa-spin\"></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t:\r\n\t\t\t\t\tfalse\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{/* navbar starts */}\r\n\t\t\t\t<nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n\t\t\t\t  <Link className=\"navbar-brand\" to=\"/\">Charts</Link>\r\n\t\t\t\t  <button className=\"navbar-toggler\" type=\"button\" onClick={ ()=>this.setState({open_mobile_navbar: !this.state.open_mobile_navbar}) } >\r\n\t\t\t\t    <span className=\"navbar-toggler-icon\"></span>\r\n\t\t\t\t  </button>\r\n\t\t\t\t  <div className={(this.state.open_mobile_navbar)?\"collapse navbar-collapse show\":\"collapse navbar-collapse\"} id=\"navbarNavDropdown\">\r\n\t\t\t\t    <ul className=\"navbar-nav ml-auto\">\r\n\t\t\t\t      <li className=\"nav-item active\">\r\n\t\t\t\t        <Link className=\"nav-link\" to=\"/\" onClick={this.saveData}>Save</Link>\r\n\t\t\t\t      </li>\r\n\t\t\t\t      <li className=\"nav-item dropdown\">\r\n\t\t\t\t        <Link className=\"nav-link dropdown-toggle\" to=\"/\" id=\"navbarDropdownMenuLink\" onClick={()=>this.setState({show_chart_menu: !this.state.show_chart_menu})}>\r\n\t\t\t\t          Insert\r\n\t\t\t\t        </Link>\r\n\t\t\t\t        <div className={(this.state.show_chart_menu)?\"dropdown-menu show\":\"dropdown-menu\"}>\r\n\t\t\t\t          \t<Link className=\"dropdown-item\" to=\"/\" onClick={this.addChart}>\r\n\t\t\t\t          \t\t<img src=\"images/chart.png\" className=\"chart-thumbnail-img\" alt=\"chart\"/><span className=\"chart-menu-heading\" >Chart</span>\r\n\t\t\t\t        \t</Link>\r\n\t\t\t\t        </div>\r\n\t\t\t\t      </li>\r\n\t\t\t\t    </ul>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</nav>\r\n\t\t\t\t{/* navbar ends */ }\r\n\t\t\t\t<div className=\"chart-container\">\r\n\t\t\t\t\t<div className=\"draggable-elements\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Home;","import React from 'react';\nimport {\n  HashRouter as Router,\n  Route\n} from \"react-router-dom\";\nimport Home from './Components/Home/';\n\nclass App extends React.Component {\n\trender(){\n\t\treturn (\n\t\t\t<Router>\n\t          <Route path=\"/\" component={Home}></Route>\n\t        </Router>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}