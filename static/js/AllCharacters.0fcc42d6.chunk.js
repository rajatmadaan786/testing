(this.webpackJsonptest=this.webpackJsonptest||[]).push([[1],{35:function(e,t,a){"use strict";t.a={API_BASE_URL:"https://www.anapioficeandfire.com/",extractNumber:function(e){return e.match(/\d/g)[0]}}},37:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return o}));var r=a(39),n=a.n(r),c=a(35);function l(){var e="".concat(c.a.API_BASE_URL,"/api/characters");return n.a.get(e).catch((function(e){return e.response}))}function o(e){var t="".concat(c.a.API_BASE_URL,"/api/characters/").concat(e);return n.a.get(t).catch((function(e){return e.response}))}},70:function(e,t,a){"use strict";a.r(t);var r=a(8),n=a(9),c=a(11),l=a(10),o=a(16),i=a(12),s=a(0),u=a.n(s),m=a(17),h=a(37),d=a(35),g=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(l.a)(t).call(this))).state={characters:[],loading:!1,bookmark_toggled:!1},e.getCharacters=e.getCharacters.bind(Object(o.a)(e)),e.toggleBookmark=e.toggleBookmark.bind(Object(o.a)(e)),e}return Object(i.a)(t,e),Object(n.a)(t,[{key:"getCharacters",value:function(){var e=this;this.setState({loading:!0}),Object(h.a)().then((function(t){200===t.status?e.setState({characters:t.data,loading:!1}):e.setState({loading:!1})}))}},{key:"toggleBookmark",value:function(e){var t=window.localStorage.getItem("bookmarked_characters"),a=[];if(null===t)a.push(e),window.localStorage.setItem("bookmarked_characters",JSON.stringify(a)),this.setState({bookmark_toggled:!0});else{var r=JSON.parse(t);if(r.indexOf(e)<=-1)r.push(e),window.localStorage.setItem("bookmarked_characters",JSON.stringify(r)),this.setState({bookmark_toggled:!0});else{var n=r.indexOf(e);r.splice(n,1),window.localStorage.setItem("bookmarked_characters",JSON.stringify(r)),this.setState({bookmark_toggled:!0})}}}},{key:"filterResult",value:function(e){for(var t=this.state.characters,a=e.target.value,r=this.state.characters,n=0;n<r.length;n++)r[n].name.indexOf(a)<=-1&&r.splice(n,1);""===a&&this.setState({characters:t}),this.setState({characters:r})}},{key:"componentDidMount",value:function(){this.getCharacters()}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,r=t.characters,n=JSON.parse(window.localStorage.getItem("bookmarked_characters"));return u.a.createElement("div",{className:"container"},u.a.createElement(m.b,{to:"/"},"Back to Home"),u.a.createElement("h3",null,"All Characters "),u.a.createElement("div",{className:"text-right"},u.a.createElement("input",{type:"text",onKeyUp:function(t){return e.filterResult(t)},placeholder:" Search for name.."})),u.a.createElement("div",{className:"mt-4"},u.a.createElement("table",{className:"table table-striped"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Name"),u.a.createElement("th",null,"Gender"),u.a.createElement("th",null,"Bookmark"),u.a.createElement("th",null,"Action"))),u.a.createElement("tbody",null,a?u.a.createElement("tr",null,u.a.createElement("td",{colSpan:"4"},u.a.createElement("img",{src:window.location.origin+"/images/loader.gif",alt:"loader",style:{height:"60px",width:"60px"}}))):r&&r.length>0?r.map((function(t,a){return u.a.createElement("tr",{key:a},u.a.createElement("td",null,t.name?t.name:"Not found"),u.a.createElement("td",null,t.gender),u.a.createElement("td",null,n&&n.length>0&&n.indexOf(d.a.extractNumber(t.url))>-1?u.a.createElement("i",{className:"fa fa-bookmark","aria-hidden":"true",onClick:function(){return e.toggleBookmark(d.a.extractNumber(t.url))}}):u.a.createElement("i",{className:"fa fa-bookmark-o","aria-hidden":"true",onClick:function(){return e.toggleBookmark(d.a.extractNumber(t.url))}})),u.a.createElement("td",null,u.a.createElement(m.b,{to:"/character/".concat(d.a.extractNumber(t.url))},"View Details")))})):u.a.createElement("tr",null,u.a.createElement("td",{colSpan:"4"},"Not found!"))))))}}]),t}(u.a.Component);t.default=g}}]);
//# sourceMappingURL=AllCharacters.0fcc42d6.chunk.js.map