{"version":3,"sources":["config.js","Services/index.js","Components/Characters/all_characters.js"],"names":["CONFIG","API_BASE_URL","extractNumber","strng","match","getAllCharacters","url","axios","get","catch","response","getCharacterDetails","id","AllCharacters","state","characters","loading","bookmark_toggled","getCharacters","bind","toggleBookmark","this","setState","then","status","data","result","window","localStorage","getItem","push","setItem","JSON","stringify","parsed_data","parse","indexOf","index","splice","e","all_characters","search_query","target","value","i","length","name","bookmarked_characters","className","to","type","onKeyUp","filterResult","placeholder","colSpan","src","location","origin","alt","style","height","width","map","item","key","gender","aria-hidden","onClick","React","Component"],"mappings":"6FAOeA,IAPF,CACZC,aAAc,qCACdC,cAAe,SAASC,GACvB,OAAOA,EAAMC,MAAM,OAAO,M,gCCH5B,iGAGO,SAASC,IACf,IAAMC,EAAG,UAAMN,IAAOC,aAAb,mBACT,OAAOM,IAAMC,IAAIF,GAAKG,OAAM,SAAAC,GAAQ,OAAIA,EAASA,YAG3C,SAASC,EAAoBC,GACnC,IAAMN,EAAG,UAAMN,IAAOC,aAAb,2BAA4CW,GACrD,OAAOL,IAAMC,IAAIF,GAAKG,OAAM,SAAAC,GAAQ,OAAIA,EAASA,c,iICL5CG,E,YACL,aAAc,IAAD,8BACZ,+CACKC,MAAQ,CACZC,WAAW,GACXC,SAAS,EACTC,kBAAkB,GAEnB,EAAKC,cAAgB,EAAKA,cAAcC,KAAnB,gBACrB,EAAKC,eAAiB,EAAKA,eAAeD,KAApB,gBARV,E,6EAWG,IAAD,OACdE,KAAKC,SAAS,CAACN,SAAS,IACxBX,cAAmBkB,MAAK,SAAAb,GACF,MAAlBA,EAASc,OACX,EAAKF,SAAS,CAACP,WAAYL,EAASe,KAAMT,SAAS,IAEnD,EAAKM,SAAS,CAACN,SAAS,S,qCAKZJ,GACd,IAAIc,EAASC,OAAOC,aAAaC,QAAQ,yBACrCJ,EAAO,GACX,GAAY,OAATC,EACFD,EAAKK,KAAKlB,GACVe,OAAOC,aAAaG,QAAQ,wBAAyBC,KAAKC,UAAUR,IACpEJ,KAAKC,SAAS,CAACL,kBAAkB,QAC7B,CACJ,IAAIiB,EAAcF,KAAKG,MAAMT,GAC7B,GAAGQ,EAAYE,QAAQxB,KAAM,EAC5BsB,EAAYJ,KAAKlB,GACjBe,OAAOC,aAAaG,QAAQ,wBAAyBC,KAAKC,UAAUC,IACpEb,KAAKC,SAAS,CAACL,kBAAkB,QAC7B,CACJ,IAAIoB,EAAQH,EAAYE,QAAQxB,GAChCsB,EAAYI,OAAOD,EAAM,GACzBV,OAAOC,aAAaG,QAAQ,wBAAyBC,KAAKC,UAAUC,IACpEb,KAAKC,SAAS,CAACL,kBAAkB,Q,mCAKvBsB,GAIZ,IAHA,IAAIC,EAAiBnB,KAAKP,MAAMC,WAC5B0B,EAAeF,EAAEG,OAAOC,MACxB5B,EAAaM,KAAKP,MAAMC,WACpB6B,EAAE,EAAGA,EAAE7B,EAAW8B,OAAQD,IAC9B7B,EAAW6B,GAAGE,KAAKV,QAAQK,KAAgB,GAC7C1B,EAAWuB,OAAOM,EAAE,GAGJ,KAAfH,GACFpB,KAAKC,SAAS,CAACP,WAAYyB,IAE5BnB,KAAKC,SAAS,CAACP,iB,0CAIfM,KAAKH,kB,+BAGG,IAAD,SACqBG,KAAKP,MAA5BE,EADE,EACFA,QAASD,EADP,EACOA,WACVgC,EAAwBf,KAAKG,MAAMR,OAAOC,aAAaC,QAAQ,0BACnE,OACC,yBAAKmB,UAAU,aACd,kBAAC,IAAD,CAAMC,GAAG,KAAT,gBACA,+CACA,yBAAKD,UAAU,cACd,2BAAOE,KAAK,OAAOC,QAAS,SAACZ,GAAD,OAAK,EAAKa,aAAab,IAAIc,YAAY,wBAEpE,yBAAKL,UAAU,QACd,2BAAOA,UAAU,uBACb,+BACE,4BACE,oCACA,sCACA,wCACA,wCAGJ,+BAEGhC,EACA,4BACC,wBAAIsC,QAAQ,KAAI,yBAAKC,IAAK5B,OAAO6B,SAASC,OAAQ,qBAAsBC,IAAI,SAASC,MAAO,CAACC,OAAO,OAAOC,MAAM,YAGlH9C,GAAcA,EAAW8B,OAAO,EAChC9B,EAAW+C,KAAI,SAACC,EAAK1B,GAAN,OACd,wBAAI2B,IAAK3B,GACR,4BAAM0B,EAAKjB,KAAMiB,EAAKjB,KAAK,aAC3B,4BAAKiB,EAAKE,QACV,4BAEGlB,GAAyBA,EAAsBF,OAAO,GACrDE,EAAsBX,QAAQpC,IAAOE,cAAc6D,EAAKzD,OAAO,EAChE,uBAAG0C,UAAU,iBAAiBkB,cAAY,OAAOC,QAAS,kBAAI,EAAK/C,eAAepB,IAAOE,cAAc6D,EAAKzD,SAI5G,uBAAG0C,UAAU,mBAAmBkB,cAAY,OAAOC,QAAS,kBAAI,EAAK/C,eAAepB,IAAOE,cAAc6D,EAAKzD,UAGjH,4BAAI,kBAAC,IAAD,CAAM2C,GAAE,qBAAgBjD,IAAOE,cAAc6D,EAAKzD,OAAlD,qBAIP,4BACC,wBAAIgD,QAAQ,KAAZ,uB,GAhHgBc,IAAMC,WA2HnBxD","file":"static/js/AllCharacters.0fcc42d6.chunk.js","sourcesContent":["let CONFIG = {\r\n\tAPI_BASE_URL: 'https://www.anapioficeandfire.com/',\r\n\textractNumber: function(strng){\r\n\t\treturn strng.match(/\\d/g)[0];\r\n\t}\r\n}\r\n\r\nexport default CONFIG;","import axios from 'axios';\r\nimport CONFIG from '../config';\r\n\r\nexport function getAllCharacters() {\r\n\tconst url = `${CONFIG.API_BASE_URL}/api/characters`;\r\n\treturn axios.get(url).catch(response => response.response);\r\n}\r\n\r\nexport function getCharacterDetails(id) {\r\n\tconst url = `${CONFIG.API_BASE_URL}/api/characters/${id}`;\r\n\treturn axios.get(url).catch(response => response.response);\r\n}","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {getAllCharacters} from '../../Services/';\r\nimport CONFIG from '../../config';\r\n\r\nclass AllCharacters extends React.Component{\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tcharacters:[],\r\n\t\t\tloading: false,\r\n\t\t\tbookmark_toggled: false\r\n\t\t}\r\n\t\tthis.getCharacters = this.getCharacters.bind(this);\r\n\t\tthis.toggleBookmark = this.toggleBookmark.bind(this);\r\n\t}\r\n\r\n\tgetCharacters(){\r\n\t\tthis.setState({loading: true});\r\n\t\tgetAllCharacters().then(response=>{\r\n\t\t\tif(response.status===200){\r\n\t\t\t\tthis.setState({characters: response.data, loading: false})\r\n\t\t\t}else{\r\n\t\t\t\tthis.setState({loading: false})\r\n\t\t\t}\r\n\t\t})\t\t\r\n\t}\r\n\r\n\ttoggleBookmark(id){\r\n\t\tlet result = window.localStorage.getItem('bookmarked_characters');\r\n\t\tlet data = [];\r\n\t\tif(result===null){\r\n\t\t\tdata.push(id);\r\n\t\t\twindow.localStorage.setItem(\"bookmarked_characters\", JSON.stringify(data));\r\n\t\t\tthis.setState({bookmark_toggled: true})\r\n\t\t}else{\r\n\t\t\tlet parsed_data = JSON.parse(result);\r\n\t\t\tif(parsed_data.indexOf(id)<=-1){\r\n\t\t\t\tparsed_data.push(id);\r\n\t\t\t\twindow.localStorage.setItem(\"bookmarked_characters\", JSON.stringify(parsed_data));\r\n\t\t\t\tthis.setState({bookmark_toggled: true})\r\n\t\t\t}else{\r\n\t\t\t\tlet index = parsed_data.indexOf(id);\r\n\t\t\t\tparsed_data.splice(index,1);\r\n\t\t\t\twindow.localStorage.setItem(\"bookmarked_characters\", JSON.stringify(parsed_data));\r\n\t\t\t\tthis.setState({bookmark_toggled: true})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfilterResult(e){\r\n\t\tlet all_characters = this.state.characters;\r\n\t\tlet search_query = e.target.value;\r\n\t\tlet characters = this.state.characters;\r\n\t\tfor(var i=0; i<characters.length; i++){\r\n\t\t\tif(characters[i].name.indexOf(search_query)<=-1){\r\n\t\t\t\tcharacters.splice(i,1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(search_query===''){\r\n\t\t\tthis.setState({characters: all_characters});\r\n\t\t}\r\n\t\tthis.setState({characters});\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tthis.getCharacters();\r\n\t}\r\n\r\n\trender(){\r\n\t\tlet {loading, characters} = this.state;\r\n\t\tlet bookmarked_characters = JSON.parse(window.localStorage.getItem('bookmarked_characters'));\r\n\t\treturn(\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<Link to=\"/\">Back to Home</Link>\r\n\t\t\t\t<h3>All Characters </h3>\r\n\t\t\t\t<div className=\"text-right\">\r\n\t\t\t\t\t<input type=\"text\" onKeyUp={(e)=>this.filterResult(e)} placeholder=\" Search for name..\"/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t<table className=\"table table-striped\">\r\n\t\t\t\t\t    <thead>\r\n\t\t\t\t\t      <tr>\r\n\t\t\t\t\t        <th>Name</th>\r\n\t\t\t\t\t        <th>Gender</th>\r\n\t\t\t\t\t        <th>Bookmark</th>\r\n\t\t\t\t\t        <th>Action</th>\r\n\t\t\t\t\t      </tr>\r\n\t\t\t\t\t    </thead>\r\n\t\t\t\t\t    <tbody>\r\n\t\t\t\t\t    \t{\r\n\t\t\t\t\t    \t\t(loading)?\r\n\t\t\t\t\t    \t\t\t<tr>\r\n\t\t\t\t\t\t    \t\t\t<td colSpan=\"4\"><img src={window.location.origin +\"/images/loader.gif\"} alt=\"loader\" style={{height:'60px',width:'60px'}}/></td>\r\n\t\t\t\t\t    \t\t\t</tr>\r\n\t\t\t\t\t    \t\t:\r\n\t\t\t\t\t    \t\t(characters && characters.length>0)?\r\n\t\t\t\t\t    \t\t\tcharacters.map((item,index)=>(\r\n\t\t\t\t\t    \t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t    \t\t\t\t<td>{(item.name)?item.name:'Not found'}</td>\r\n\t\t\t\t\t\t    \t\t\t\t<td>{item.gender}</td>\r\n\t\t\t\t\t\t    \t\t\t\t<td>\r\n\t\t\t\t\t\t    \t\t\t\t\t{\r\n\t\t\t\t\t\t    \t\t\t\t\t\t(bookmarked_characters && bookmarked_characters.length>0)?\r\n\t\t\t\t\t\t\t    \t\t\t\t\t\t(bookmarked_characters.indexOf(CONFIG.extractNumber(item.url))>-1)?\t\r\n\t\t\t\t\t\t\t    \t\t\t\t\t\t<i className=\"fa fa-bookmark\" aria-hidden=\"true\" onClick={()=>this.toggleBookmark(CONFIG.extractNumber(item.url))}></i>\r\n\t\t\t\t\t\t\t    \t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t    \t\t\t\t\t<i className=\"fa fa-bookmark-o\" aria-hidden=\"true\" onClick={()=>this.toggleBookmark(CONFIG.extractNumber(item.url))}></i>\r\n\t\t\t\t\t\t\t\t    \t\t\t\t:\r\n\t\t\t\t\t\t\t\t    \t\t\t\t\t<i className=\"fa fa-bookmark-o\" aria-hidden=\"true\" onClick={()=>this.toggleBookmark(CONFIG.extractNumber(item.url))}></i>\t\t\t\t\t\t\t\t    \t\t\t\t\r\n\t\t\t\t\t\t    \t\t\t\t\t}\r\n\t\t\t\t\t\t    \t\t\t\t</td>\r\n\t\t\t\t\t\t    \t\t\t\t<td><Link to={`/character/${CONFIG.extractNumber(item.url)}`}>View Details</Link></td>\r\n\t\t\t\t\t\t    \t\t\t</tr>\r\n\t\t\t\t\t    \t\t\t))\r\n\t\t\t\t\t    \t\t:\r\n\t\t\t\t\t    \t\t<tr>\r\n\t\t\t\t\t    \t\t\t<td colSpan=\"4\">Not found!</td>\r\n\t\t\t\t\t    \t\t</tr>\r\n\t\t\t\t\t    \t}\r\n\t\t\t\t\t    </tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AllCharacters;"],"sourceRoot":""}