(this["webpackJsonpDynamic-Charts"]=this["webpackJsonpDynamic-Charts"]||[]).push([[403],{101:function(e,t,s){e.exports=s(145)},116:function(e,t,s){var a={"./accessibility.js":[147,0],"./aggregate.js":[148,1],"./alert.js":[149,2],"./analyze_event.js":[150,3],"./annotation.js":[151,4],"./apm_trace.js":[152,5],"./app_add_data.js":[153,6],"./app_advanced_settings.js":[154,7],"./app_apm.js":[155,8],"./app_app_search.js":[156,9],"./app_auditbeat.js":[157,10],"./app_canvas.js":[158,11],"./app_code.js":[159,12],"./app_console.js":[160,13],"./app_cross_cluster_replication.js":[161,14],"./app_dashboard.js":[162,15],"./app_devtools.js":[163,16],"./app_discover.js":[164,17],"./app_ems.js":[165,18],"./app_filebeat.js":[166,19],"./app_gis.js":[167,20],"./app_graph.js":[168,21],"./app_grok.js":[169,22],"./app_heartbeat.js":[170,23],"./app_index_management.js":[171,24],"./app_index_pattern.js":[172,25],"./app_index_rollup.js":[173,26],"./app_lens.js":[174,27],"./app_logs.js":[175,28],"./app_management.js":[176,29],"./app_metricbeat.js":[177,30],"./app_metrics.js":[178,31],"./app_ml.js":[179,32],"./app_monitoring.js":[180,33],"./app_notebook.js":[181,34],"./app_packetbeat.js":[182,35],"./app_pipeline.js":[183,36],"./app_recently_viewed.js":[184,37],"./app_reporting.js":[185,38],"./app_saved_objects.js":[186,39],"./app_search_profiler.js":[187,40],"./app_security.js":[188,41],"./app_security_analytics.js":[189,42],"./app_spaces.js":[190,43],"./app_sql.js":[191,44],"./app_timelion.js":[192,45],"./app_upgrade_assistant.js":[193,46],"./app_uptime.js":[194,47],"./app_users_roles.js":[195,48],"./app_visualize.js":[196,49],"./app_watches.js":[197,50],"./app_workplace_search.js":[198,51],"./apps.js":[199,52],"./arrow_down.js":[200,53],"./arrow_left.js":[201,54],"./arrow_right.js":[202,55],"./arrow_up.js":[203,56],"./asterisk.js":[204,57],"./beaker.js":[205,58],"./bell.js":[206,59],"./bellSlash.js":[207,60],"./bolt.js":[208,61],"./boxes_horizontal.js":[209,62],"./boxes_vertical.js":[210,63],"./branch.js":[211,64],"./broom.js":[212,65],"./brush.js":[213,66],"./bug.js":[214,67],"./bullseye.js":[215,68],"./calendar.js":[216,69],"./check.js":[217,70],"./checkInCircleFilled.js":[218,71],"./cheer.js":[219,72],"./clock.js":[220,73],"./cloudDrizzle.js":[221,74],"./cloudStormy.js":[222,75],"./cloudSunny.js":[223,76],"./compute.js":[224,77],"./console.js":[225,78],"./controls_horizontal.js":[226,79],"./controls_vertical.js":[227,80],"./copy.js":[228,81],"./copy_clipboard.js":[229,82],"./cross.js":[230,83],"./crossInACircleFilled.js":[231,84],"./crosshairs.js":[232,85],"./currency.js":[233,86],"./cut.js":[234,87],"./database.js":[235,88],"./document.js":[236,89],"./documentEdit.js":[237,90],"./documents.js":[238,91],"./dot.js":[239,92],"./download.js":[240,93],"./editorDistributeHorizontal.js":[241,94],"./editorDistributeVertical.js":[242,95],"./editorItemAlignBottom.js":[243,96],"./editorItemAlignCenter.js":[244,97],"./editorItemAlignLeft.js":[245,98],"./editorItemAlignMiddle.js":[246,99],"./editorItemAlignRight.js":[247,100],"./editorItemAlignTop.js":[248,101],"./editorPositionBottomLeft.js":[249,102],"./editorPositionBottomRight.js":[250,103],"./editorPositionTopLeft.js":[251,104],"./editorPositionTopRight.js":[252,105],"./editor_align_center.js":[253,106],"./editor_align_left.js":[254,107],"./editor_align_right.js":[255,108],"./editor_bold.js":[256,109],"./editor_code_block.js":[257,110],"./editor_comment.js":[258,111],"./editor_heading.js":[259,112],"./editor_italic.js":[260,113],"./editor_link.js":[261,114],"./editor_ordered_list.js":[262,115],"./editor_redo.js":[263,116],"./editor_strike.js":[264,117],"./editor_table.js":[265,118],"./editor_underline.js":[266,119],"./editor_undo.js":[267,120],"./editor_unordered_list.js":[268,121],"./email.js":[269,122],"./empty.js":[35],"./exit.js":[270,123],"./expand.js":[271,124],"./expandMini.js":[272,125],"./export.js":[273,126],"./eye.js":[274,127],"./eye_closed.js":[275,128],"./faceNeutral.js":[276,129],"./face_happy.js":[277,130],"./face_neutral.js":[278,131],"./face_sad.js":[279,132],"./filter.js":[280,133],"./flag.js":[281,134],"./fold.js":[282,135],"./folder_check.js":[283,136],"./folder_closed.js":[284,137],"./folder_exclamation.js":[285,138],"./folder_open.js":[286,139],"./full_screen.js":[287,140],"./gear.js":[288,141],"./glasses.js":[289,142],"./globe.js":[290,143],"./grab.js":[291,144],"./grab_horizontal.js":[292,145],"./grid.js":[293,146],"./heart.js":[294,147],"./heatmap.js":[295,148],"./help.js":[296,149],"./home.js":[297,150],"./iInCircle.js":[298,151],"./image.js":[299,152],"./import.js":[300,153],"./index_close.js":[301,154],"./index_edit.js":[302,155],"./index_flush.js":[303,156],"./index_mapping.js":[304,157],"./index_open.js":[305,158],"./index_settings.js":[306,159],"./inputOutput.js":[307,160],"./inspect.js":[308,161],"./invert.js":[309,162],"./ip.js":[310,163],"./keyboard_shortcut.js":[311,164],"./kql_field.js":[312,165],"./kql_function.js":[313,166],"./kql_operand.js":[314,167],"./kql_selector.js":[315,168],"./kql_value.js":[316,169],"./link.js":[317,170],"./list.js":[318,171],"./list_add.js":[319,172],"./lock.js":[320,173],"./lockOpen.js":[321,174],"./logo_aerospike.js":[322,175],"./logo_apache.js":[323,176],"./logo_apm.js":[324,177],"./logo_app_search.js":[325,178],"./logo_aws.js":[326,179],"./logo_aws_mono.js":[327,180],"./logo_azure.js":[328,181],"./logo_azure_mono.js":[329,182],"./logo_beats.js":[330,183],"./logo_business_analytics.js":[331,184],"./logo_ceph.js":[332,185],"./logo_cloud.js":[333,186],"./logo_cloud_ece.js":[334,187],"./logo_code.js":[335,188],"./logo_codesandbox.js":[336,189],"./logo_couchbase.js":[337,190],"./logo_docker.js":[338,191],"./logo_dropwizard.js":[339,192],"./logo_elastic.js":[340,193],"./logo_elastic_stack.js":[341,194],"./logo_elasticsearch.js":[342,195],"./logo_enterprise_search.js":[343,196],"./logo_etcd.js":[344,197],"./logo_gcp.js":[345,198],"./logo_gcp_mono.js":[346,199],"./logo_github.js":[347,200],"./logo_gmail.js":[348,201],"./logo_golang.js":[349,202],"./logo_google_g.js":[350,203],"./logo_haproxy.js":[351,204],"./logo_ibm.js":[352,205],"./logo_ibm_mono.js":[353,206],"./logo_kafka.js":[354,207],"./logo_kibana.js":[355,208],"./logo_kubernetes.js":[356,209],"./logo_logging.js":[357,210],"./logo_logstash.js":[358,211],"./logo_maps.js":[359,212],"./logo_memcached.js":[360,213],"./logo_metrics.js":[361,214],"./logo_mongodb.js":[362,215],"./logo_mysql.js":[363,216],"./logo_nginx.js":[364,217],"./logo_observability.js":[365,218],"./logo_osquery.js":[366,219],"./logo_php.js":[367,220],"./logo_postgres.js":[368,221],"./logo_prometheus.js":[369,222],"./logo_rabbitmq.js":[370,223],"./logo_redis.js":[371,224],"./logo_security.js":[372,225],"./logo_site_search.js":[373,226],"./logo_sketch.js":[374,227],"./logo_slack.js":[375,228],"./logo_uptime.js":[376,229],"./logo_webhook.js":[377,230],"./logo_windows.js":[378,231],"./logo_workplace_search.js":[379,232],"./logstash_filter.js":[380,233],"./logstash_if.js":[381,234],"./logstash_input.js":[382,235],"./logstash_output.js":[383,236],"./logstash_queue.js":[384,237],"./magnet.js":[385,238],"./magnifyWithMinus.js":[386,239],"./magnifyWithPlus.js":[387,240],"./map_marker.js":[388,241],"./memory.js":[389,242],"./menu.js":[390,243],"./menuLeft.js":[391,244],"./menuRight.js":[392,245],"./merge.js":[393,246],"./minimize.js":[394,247],"./minus.js":[395,248],"./minus_in_circle.js":[396,249],"./minus_in_circle_filled.js":[397,250],"./ml_classification_job.js":[398,251],"./ml_create_advanced_job.js":[399,252],"./ml_create_multi_metric_job.js":[400,253],"./ml_create_population_job.js":[401,254],"./ml_create_single_metric_job.js":[402,255],"./ml_data_visualizer.js":[403,256],"./ml_outlier_detection_job.js":[404,257],"./ml_regression_job.js":[405,258],"./moon.js":[406,259],"./nested.js":[407,260],"./node.js":[408,261],"./number.js":[409,262],"./offline.js":[410,263],"./online.js":[411,264],"./package.js":[412,265],"./pageSelect.js":[413,266],"./pagesSelect.js":[414,267],"./paint.js":[415,268],"./paper_clip.js":[416,269],"./partial.js":[417,270],"./pause.js":[418,271],"./pencil.js":[419,272],"./pin.js":[420,273],"./pin_filled.js":[421,274],"./play.js":[422,275],"./plus.js":[423,276],"./plus_in_circle.js":[424,277],"./plus_in_circle_filled.js":[425,278],"./popout.js":[426,279],"./push.js":[427,280],"./question_in_circle.js":[428,281],"./quote.js":[429,282],"./refresh.js":[430,283],"./reporter.js":[431,284],"./return_key.js":[432,285],"./save.js":[433,286],"./scale.js":[434,287],"./search.js":[435,288],"./securitySignal.js":[436,289],"./securitySignalDetected.js":[437,290],"./securitySignalResolved.js":[438,291],"./shard.js":[439,292],"./share.js":[440,293],"./snowflake.js":[441,294],"./sortLeft.js":[442,295],"./sortRight.js":[443,296],"./sort_down.js":[444,297],"./sort_up.js":[445,298],"./sortable.js":[446,299],"./starPlusEmpty.js":[447,300],"./starPlusFilled.js":[448,301],"./star_empty.js":[449,302],"./star_empty_space.js":[450,303],"./star_filled.js":[451,304],"./star_filled_space.js":[452,305],"./star_minus_empty.js":[453,306],"./star_minus_filled.js":[454,307],"./stats.js":[455,308],"./stop.js":[456,309],"./stop_filled.js":[457,310],"./stop_slash.js":[458,311],"./storage.js":[459,312],"./string.js":[460,313],"./submodule.js":[461,314],"./swatch_input.js":[462,315],"./symlink.js":[463,316],"./tableOfContents.js":[464,317],"./table_density_compact.js":[465,318],"./table_density_expanded.js":[466,319],"./table_density_normal.js":[467,320],"./tag.js":[468,321],"./tear.js":[469,322],"./temperature.js":[470,323],"./timeline.js":[471,324],"./tokens/tokenAlias.js":[472,325],"./tokens/tokenAnnotation.js":[473,326],"./tokens/tokenArray.js":[474,327],"./tokens/tokenBinary.js":[475,328],"./tokens/tokenBoolean.js":[476,329],"./tokens/tokenClass.js":[477,330],"./tokens/tokenCompletionSuggester.js":[478,331],"./tokens/tokenConstant.js":[479,332],"./tokens/tokenDate.js":[480,333],"./tokens/tokenDenseVector.js":[481,334],"./tokens/tokenElement.js":[482,335],"./tokens/tokenEnum.js":[483,336],"./tokens/tokenEnumMember.js":[484,337],"./tokens/tokenEvent.js":[485,338],"./tokens/tokenException.js":[486,339],"./tokens/tokenField.js":[487,340],"./tokens/tokenFile.js":[488,341],"./tokens/tokenFlattened.js":[489,342],"./tokens/tokenFunction.js":[490,343],"./tokens/tokenGeo.js":[491,344],"./tokens/tokenHistogram.js":[492,345],"./tokens/tokenIP.js":[493,346],"./tokens/tokenInterface.js":[494,347],"./tokens/tokenJoin.js":[495,348],"./tokens/tokenKey.js":[496,349],"./tokens/tokenKeyword.js":[497,350],"./tokens/tokenMethod.js":[498,351],"./tokens/tokenModule.js":[499,352],"./tokens/tokenNamespace.js":[500,353],"./tokens/tokenNested.js":[501,354],"./tokens/tokenNull.js":[502,355],"./tokens/tokenNumber.js":[503,356],"./tokens/tokenObject.js":[504,357],"./tokens/tokenOperator.js":[505,358],"./tokens/tokenPackage.js":[506,359],"./tokens/tokenParameter.js":[507,360],"./tokens/tokenPercolator.js":[508,361],"./tokens/tokenProperty.js":[509,362],"./tokens/tokenRange.js":[510,363],"./tokens/tokenRankFeature.js":[511,364],"./tokens/tokenRankFeatures.js":[512,365],"./tokens/tokenRepo.js":[513,366],"./tokens/tokenSearchType.js":[514,367],"./tokens/tokenShape.js":[515,368],"./tokens/tokenString.js":[516,369],"./tokens/tokenStruct.js":[517,370],"./tokens/tokenSymbol.js":[518,371],"./tokens/tokenText.js":[519,372],"./tokens/tokenTokenCount.js":[520,373],"./tokens/tokenVariable.js":[521,374],"./training.js":[522,375],"./trash.js":[523,376],"./unfold.js":[524,377],"./unlink.js":[525,378],"./user.js":[526,379],"./users.js":[527,380],"./vector.js":[528,381],"./videoPlayer.js":[529,382],"./vis_area.js":[530,383],"./vis_area_stacked.js":[531,384],"./vis_bar_horizontal.js":[532,385],"./vis_bar_horizontal_stacked.js":[533,386],"./vis_bar_vertical.js":[534,387],"./vis_bar_vertical_stacked.js":[535,388],"./vis_gauge.js":[536,389],"./vis_goal.js":[537,390],"./vis_line.js":[538,391],"./vis_map_coordinate.js":[539,392],"./vis_map_region.js":[540,393],"./vis_metric.js":[541,394],"./vis_pie.js":[542,395],"./vis_table.js":[543,396],"./vis_tag_cloud.js":[544,397],"./vis_text.js":[545,398],"./vis_timelion.js":[546,399],"./vis_vega.js":[547,400],"./vis_visual_builder.js":[548,401],"./wrench.js":[549,402]};function n(e){if(!s.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],n=t[0];return Promise.all(t.slice(1).map(s.e)).then((function(){return s(n)}))}n.keys=function(){return Object.keys(a)},n.id=116,e.exports=n},140:function(e,t){},145:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),o=s(18),r=s.n(o),i=s(11),l=s(12),c=s(14),d=s(13),j=s(15),u=s(77),_=s(19),p=s(5),g=s(606),m=s(603),h=s(604),k=s(607),f=s(609),v=(s(106),s(29)),b=s.n(v);function y(e){var t=this;return new Promise((function(s,a){var n=setTimeout((function(){t.handleAlertMessage("Error","Error occured while fetching financial data!","warning")}),2e4);e.then((function(e){clearTimeout(n),s(e)}),(function(e){clearTimeout(n);var t=document.querySelector(".overlay-mask");t&&t.remove(),b()({title:"Error",text:"Error occured while fetching the data",icon:"warning"})}))}))}function w(e,t,s){b()({title:e,text:t,icon:s})}var E={API_URL:"http://167.172.159.20:5000/api",BACKEND_URL:"http://167.172.159.20:5000",USER_ID:"5f66bf6336b9440dd48580cf"},C=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={loading:!1,loader_message:""},e.saveData=e.saveData.bind(Object(p.a)(e)),e}return Object(j.a)(t,e),Object(l.a)(t,[{key:"saveData",value:function(){var e=document.querySelectorAll("select"),t={},s={},a=this;e.forEach((function(e,t){var a="widget"+(t+1),n=e.id.split("_")[1],o=e.value,r=document.getElementById("element_"+n);s[a]={},s[a].widget_type="LineChart",s[a].widget_id=t+1,s[a].last_value={id:n,value:o},s[a].draggableCoordinates={top:r.style.top,left:r.style.left,element:"element_"+n},s[a].basicStyling={height:r.style.height,width:r.style.width}})),t.user=s,a.setState({loading:!0,loader_message:"Saving Data..."}),y(fetch(E.API_URL+"/update_user_data?user_id="+E.USER_ID,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).then((function(e){return e.json()})).then((function(e){a.setState({loading:!1,loader_message:""}),w("Success","Data saved successfully!","success")})).catch((function(e){console.log(e),a.setState({loading:!1,loader_message:""}),w("Error","Server error occured while saving data! Please try again after sometime or contact administrator","warning")}))}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,!!this.state.loading&&n.a.createElement("div",{className:"overlay-mask"},n.a.createElement("i",{className:"fa fa-refresh fa-spin"}),n.a.createElement("p",{className:"loader-message animate-flicker"},this.state.loader_message)),n.a.createElement(g.a,null,n.a.createElement(m.a,{border:"right"},n.a.createElement(h.a,{href:"#"},"Chart")),n.a.createElement(m.a,{position:"relative"},n.a.createElement(k.a,{"aria-label":"App navigation links example"},n.a.createElement(f.a,{href:"#",onClick:this.props.addChart},"Insert Chart"),n.a.createElement(f.a,{href:"#",onClick:this.saveData},"Save")))))}}]),t}(n.a.PureComponent),S=s(74),x=s.n(S),O=s(75),D=s.n(O),A=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={defaultProps:{}},e.renderChart=e.renderChart.bind(Object(p.a)(e)),e}return Object(j.a)(t,e),Object(l.a)(t,[{key:"renderChart",value:function(e,t,s){e.forEach((function(e){e[0]=Date.parse(e[0])}));var a={title:"",xAxis:{labels:{enabled:!1},minRange:36e5},tooltip:{formatter:function(){return"<b>Date:</b>"+(new Date(this.x).getDate()+"/"+(new Date(this.x).getMonth()+1)+"/"+new Date(this.x).getFullYear())+"<br/><b>Stock:</b>"+this.y+"</b>"},shadow:!1,borderWidth:0},rangeSelector:{selected:1,inputEnabled:!1,verticalAlign:"top",allButtonsEnabled:!0,buttons:[{type:"day",count:1,text:"1d"},{type:"day",count:7,text:"7d"},{type:"month",count:1,text:"1m"},{type:"month",count:6,text:"6m"},{type:"all",text:"All"}],buttonPosition:{align:"right"}},series:[{data:e}]},o=n.a.createElement(D.a,{ref:s,highcharts:x.a,options:a,constructorType:"stockChart",containerProps:{style:{height:"100%"}}});return r.a.render(o,document.getElementById(t)),o}},{key:"componentDidMount",value:function(){var e=this;y(fetch(E.API_URL+"/get_default_props")).then((function(e){return e.json()})).then((function(t){delete t._id,e.setState({defaultProps:t})}))}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null)}}]),t}(n.a.PureComponent),L=s(36),P=s.n(L),R=s(76),N=s.n(R),I=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={chart_widget_num:0,loading:!1,loader_message:"",stockList:[],pricingData:[],result:[]},e.custom_chart=n.a.createRef(),e.addChart=e.addChart.bind(Object(p.a)(e)),e.addDragAbility=e.addDragAbility.bind(Object(p.a)(e)),e.addResizeAbility=e.addResizeAbility.bind(Object(p.a)(e)),e.onChangeHandler=e.onChangeHandler.bind(Object(p.a)(e)),e.getPricingData=e.getPricingData.bind(Object(p.a)(e)),e.getStocksList=e.getStocksList.bind(Object(p.a)(e)),e.getUserData=e.getUserData.bind(Object(p.a)(e)),e}return Object(j.a)(t,e),Object(l.a)(t,[{key:"addResizeAbility",value:function(e){var t,s,a,n=this,o="";P()(e).resizable({edges:{left:!0,right:!0,bottom:!0},listeners:{move:function(e){t=e.target,s=t.querySelector(".chart").id;var n=parseFloat(t.getAttribute("data-x"))||0,r=parseFloat(t.getAttribute("data-y"))||0;a=e.rect.width+"px",o=e.rect.height+"px",t.style.width=a,t.style.height=o,n+=e.deltaRect.left,r+=e.deltaRect.top,t.style.webkitTransform=t.style.transform="translate("+n+"px,"+r+"px)",t.setAttribute("data-x",n),t.setAttribute("data-y",r)},end:function(e){n.state.result.filter((function(e){return e.id===s}))[0].ref.current.chart.reflow()}},modifiers:[P.a.modifiers.restrictEdges({outer:"parent"}),P.a.modifiers.restrictSize({min:{width:300,height:220}})],inertia:!0})}},{key:"addChart",value:function(){var e=this.state.chart_widget_num,t=this;e=Number(e)+1,this.setState({chart_widget_num:e});var s=document.createElement("div");s.className="chart",s.id="chart_"+e;var a=document.querySelectorAll(".elements-wrapper"),n=document.createElement("div");n.className="elements-wrapper",n.id="element_"+e,this.addResizeAbility(n),a.length>0&&window.innerWidth>=1024&&(n.style.left=340*a.length+"px"),n.append(s);var o=document.createElement("select");o.id="select_"+e,o.onchange=this.onChangeHandler;var r=document.createElement("i");r.className="fa fa-window-close close-icon",r.addEventListener("click",(function(s){t.removeChartWidget(e)}));var i=document.createElement("div");i.append(o),i.append(r),i.classList.add("chart-element-header"),i.setAttribute("draggable",!1),n.prepend(i),window.innerWidth>=1024&&i.addEventListener("mousedown",(function(e){t.addDragAbility(e,n)})),document.getElementsByClassName("chart-container")[0].appendChild(n);for(var l=0;l<this.state.stockList.length;l++){var c=document.createElement("option");c.value=this.state.stockList[l].value,c.text=this.state.stockList[l].label,o.appendChild(c)}}},{key:"addDragAbility",value:function(e,t){var s,a,n=0,o=0,r=0,i=0,l=0,c=0;function d(e){e=e||window.event,n=e.clientX,o=e.clientY,r=n-l,i=o-c;var s=document.getElementsByClassName("draggable-elements")[0].offsetWidth-t.offsetWidth;r>0&&r<s&&i>0&&i<s&&(t.style.left=r+"px",t.style.top=i+"px")}e=e||window.event,n=e.clientX,o=e.clientY,s=t.style.top.replace("px",""),a=t.style.left.replace("px",""),l=n-a,c=o-s,window.addEventListener("mousemove",d),window.addEventListener("mouseup",(function e(){window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",e)}))}},{key:"onChangeHandler",value:function(e){var t="chart_"+e.target.id.split("_")[1],s=e.target.value,a=n.a.createRef();this.getPricingData(s,t,a)}},{key:"removeChartWidget",value:function(e){b()({title:"Are you sure?",text:"you want to delete this widget",icon:"warning",dangerMode:!0,buttons:!0}).then((function(t){t&&document.getElementById("element_"+e).remove()}))}},{key:"getPricingData",value:function(e,t,s){var a=this;this.setState({loading:!0,loader_message:"Fetching Stock Data..."}),y(fetch(E.API_URL+"/get_stock_price?name="+e)).then((function(e){return e.json()})).then((function(e){if(a.setState({loading:!1}),e.length>0){var n=a.custom_chart.current.renderChart(e,t,s),o={id:t,ref:n.ref},r=a.state.result;r.push(o),a.setState({result:r})}else w("Error",e.error,"warning")})).catch((function(e){console.log(e),a.setState({loading:!1}),w("Error","Error occured while fetching financial data!","warning")}))}},{key:"getStocksList",value:function(){var e=this;this.setState({loading:!0,loader_message:"Fetching Stocks List..."}),y(fetch(E.API_URL+"/get_stocks_list")).then((function(e){return e.json()})).then((function(t){t.length<=0?(w("Error","No stocks found!","warning"),e.setState({loading:!1,loader_message:""})):(t.unshift({label:"Select a stock...",value:""}),e.setState({stockList:t}),e.getUserData())})).catch((function(t){console.log(t),e.setState({loading:!1,loader_message:""}),w("Error","Error occured while getting uesr data.","warning")}))}},{key:"getUserData",value:function(){var e=this;this.setState({loader_message:"Fetching User Data..."}),y(fetch(E.API_URL+"/get_user_data?user_id="+E.USER_ID)).then((function(e){return e.json()})).then((function(t){if(e.setState({loading:!1,loader_message:""}),t.user&&Object.keys(t.user).length>0&&e.state.stockList.length>0){var s,a,o,r,i=t;if(i)!function(){var t=Object.keys(i.user.user),l=e;t&&t.length>0&&function(){var t=i.user.user;e.setState({chart_widget_num:i.last_widget_id});var c=function(i){var c=document.createElement("div");c.id="chart_"+t[i].last_value.id,c.className="chart";var d=document.createElement("div");d.className="elements-wrapper";var j="element_"+t[i].last_value.id;d.id=j,e.addResizeAbility(d),d.style.top=t[i].draggableCoordinates.top,d.style.left=t[i].draggableCoordinates.left;var u=t[i].basicStyling.height,_=t[i].basicStyling.width;for(d.style.height=parseInt(u.split("px")[0])+40+"px",d.style.width=_,d.appendChild(c),(s=document.createElement("select")).id="select_"+t[i].last_value.id,a=0;a<e.state.stockList.length;a++)(o=document.createElement("option")).value=e.state.stockList[a].value,o.text=e.state.stockList[a].label,s.appendChild(o);s.value=t[i].last_value.value,s.onchange=e.onChangeHandler,(r=document.createElement("i")).className="fa fa-window-close close-icon",r.addEventListener("click",(function(e){l.removeChartWidget(t[i].last_value.id)}));var p=document.createElement("div");p.appendChild(s),p.appendChild(r),p.classList.add("chart-element-header"),p.setAttribute("draggable",!1),d.prepend(p),window.innerWidth>=1024&&p.addEventListener("mousedown",(function(e){l.addDragAbility(e,d)})),document.getElementsByClassName("chart-container")[0].appendChild(d);var g=n.a.createRef();e.getPricingData(t[i].last_value.value,c.id,g)};for(var d in t)c(d)}()}()}else w("Error",t.error,"warning")})).catch((function(t){console.log(t),e.setState({loading:!1,loader_message:""}),w("Error","Error occured while getting user data.","warning")}))}},{key:"componentDidMount",value:function(){var e=this;this.getStocksList(),N()(E.BACKEND_URL).on("update",(function(t){for(var s=document.querySelectorAll("select"),a=JSON.parse(t),n=0;n<s.length;n++)if(s[n].value===a.name){var o="chart_"+s[n].id.split("_")[1];e.custom_chart.current.renderChart(a.data,o)}}))}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,!!this.state.loading&&n.a.createElement("div",{className:"overlay-mask"},n.a.createElement("i",{className:"fa fa-refresh fa-spin"}),n.a.createElement("p",{className:"loader-message animate-flicker"},this.state.loader_message)),n.a.createElement(A,{ref:this.custom_chart}))}}]),t}(n.a.PureComponent),z=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).custom_chart_container=n.a.createRef(),e.addChart=e.addChart.bind(Object(p.a)(e)),e}return Object(j.a)(t,e),Object(l.a)(t,[{key:"addChart",value:function(){this.custom_chart_container.current.addChart()}},{key:"render",value:function(){return n.a.createElement("div",{className:"wrapper"},n.a.createElement(C,{addChart:this.addChart}),n.a.createElement("div",{className:"chart-container"},n.a.createElement("div",{className:"draggable-elements"}),n.a.createElement(I,{ref:this.custom_chart_container})))}}]),t}(n.a.PureComponent),F=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement(u.a,null,n.a.createElement(_.a,{path:"/",component:z}))}}]),t}(n.a.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[101,404,405]]]);